{"version":3,"file":"server.js","sources":["../src/server/middleware/cacheControl.js","../src/server/app.js","../src/server/server.js"],"sourcesContent":["export default () => (req, res, next) => {\r\n  res.header('Cache-Control', 'public, max-age=31536000, no-cache') // lucid\r\n  // res.header('Cache-Control', 'no-cache, no-store, must-revalidate') // never\r\n  next()\r\n}\r\n","import express from 'express'\r\nimport compression from 'compression'\r\nimport { cacheControl } from './middleware'\r\n\r\nconst app = express()\r\napp.use(compression())\r\napp.use('/public', express.static('build/public', { maxAge: '365d' }))\r\napp.use(cacheControl())\r\n\r\nexport default app","import app from './app'\r\n\r\nconst server = app.listen(process.env.PORT || 3000, () => {\r\n  console.log(`[server] app on http://localhost:${server.address().port} - ${app.settings.env}`)\r\n})\r\n\r\nprocess.on('SIGTERM', () => {\r\n  server.close(() => {\r\n    process.exit(0)\r\n  })\r\n})\r\n"],"names":["const"],"mappings":";;;;;;;AAAA,mBAAe,YAAG,SAAG,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;EACpC,GAAG,CAAC,MAAM,CAAC,eAAe,EAAE,oCAAoC,CAAC,CAAA;;EAEjE,IAAI,EAAE,CAAA;CACP,GAAA,CAAA;;ACADA,IAAM,GAAG,GAAG,OAAO,EAAE,CAAA;AACrB,GAAG,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAA;AACtB,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,CAAA;AACtE,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC,CAAA,AAEvB;;ACPAA,IAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,EAAE,YAAG;EACrD,OAAO,CAAC,GAAG,EAAC,mCAAkC,IAAE,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAA,QAAI,IAAE,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAA,EAAG,CAAA;CAC/F,CAAC,CAAA;;AAEF,OAAO,CAAC,EAAE,CAAC,SAAS,EAAE,YAAG;EACvB,MAAM,CAAC,KAAK,CAAC,YAAG;IACd,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;GAChB,CAAC,CAAA;CACH,CAAC,CAAA"}